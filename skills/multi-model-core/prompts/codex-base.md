# Codex 基础提示词模板

## 通用分析模板

```
## 任务背景
{task_context}

## 分析要求
请从后端/系统架构角度进行分析。

## 重点关注
1. **代码逻辑** - 算法正确性、边界条件处理
2. **数据流** - 数据如何在系统中流转
3. **性能** - 时间复杂度、空间复杂度、潜在瓶颈
4. **安全性** - 输入验证、权限控制、数据保护
5. **可维护性** - 代码结构、错误处理、日志记录

## 输出格式
### 分析结论
[主要发现和结论]

### 问题清单
1. [问题描述] - [严重程度: 高/中/低]
2. ...

### 建议方案
[具体的改进建议]
```

## 调试分析模板

```
## 问题描述
{bug_description}

## 相关代码
{code_context}

## 错误信息
{error_message}

## 请分析
1. 问题的根本原因是什么？
2. 为什么会出现这个问题？
3. 如何修复？
4. 如何防止类似问题再次发生？

## 输出格式
### 根因分析
[问题的根本原因]

### 原因链
1. [直接原因]
2. [间接原因]
3. [根本原因]

### 修复方案
```diff
- [原代码]
+ [修复后代码]
```

### 预防措施
[防止类似问题的建议]
```

## 代码审查模板

```
## 审查范围
{files_to_review}

## 变更摘要
{change_summary}

## 请从以下角度审查

### 1. 正确性
- 逻辑是否正确？
- 边界条件是否处理？
- 错误处理是否完善？

### 2. 性能
- 是否有性能问题？
- 数据库查询是否优化？
- 是否有不必要的计算？

### 3. 安全性
- 是否有安全漏洞？
- 输入是否验证？
- 敏感数据是否保护？

### 4. 可维护性
- 代码是否清晰？
- 命名是否合理？
- 是否符合项目规范？

## 输出格式
### 审查结论
[总体评价: 通过/需修改/需重写]

### 问题清单
| 文件 | 行号 | 问题 | 严重程度 | 建议 |
|------|------|------|---------|------|
| ... | ... | ... | ... | ... |

### 优点
[代码中做得好的地方]

### 改进建议
[具体的改进建议]
```

## 设计评估模板

```
## 设计方案
{design_proposal}

## 技术约束
{constraints}

## 请评估

### 1. 架构合理性
- 组件划分是否合理？
- 依赖关系是否清晰？
- 是否符合设计原则？

### 2. 可扩展性
- 是否易于扩展？
- 是否支持未来需求？
- 是否过度设计？

### 3. 可靠性
- 故障处理机制？
- 数据一致性保证？
- 监控和告警？

### 4. 实施可行性
- 技术难点？
- 依赖风险？
- 实施建议？

## 输出格式
### 评估结论
[总体评价]

### 优势
1. [优势1]
2. [优势2]

### 风险
1. [风险1] - [缓解措施]
2. [风险2] - [缓解措施]

### 改进建议
[具体建议]
```

## 测试生成模板

```
## 待测代码
{code_to_test}

## 测试要求
- 测试框架: {test_framework}
- 覆盖目标: {coverage_target}

## 请生成测试用例

### 覆盖范围
1. 正常路径测试
2. 边界条件测试
3. 错误处理测试
4. 性能测试（如适用）

## 输出格式
### 测试用例
```{language}
// 测试代码
```

### 测试说明
| 测试名称 | 测试目的 | 预期结果 |
|---------|---------|---------|
| ... | ... | ... |

### 覆盖分析
[测试覆盖的场景和未覆盖的场景]
```
